<!DOCTYPE html>
<html lang="en">
<head>
    <title>Review</title>
    <meta name="comp1800 template" content="My 1800 App">

    <!------------------------>
    <!-- Required meta tags -->
    <!------------------------>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!------------------------------------------>
    <!-- Bootstrap Library CSS JS CDN go here -->
    <!------------------------------------------>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
    </script>

    <!-------------------------------------------------------->
    <!-- Firebase 8 Library related CSS, JS, JQuery go here -->
    <!-------------------------------------------------------->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.js"></script>
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.css">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>


    <!-------------------------------------------->
    <!-- Other libraries and styles of your own -->
    <!-------------------------------------------->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="./styles/style.css">
    <script type = "text/javascript" src="main.js"></script>



    <script src="https://www.gstatic.com/firebasejs/9.2.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.2.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.2.0/firebase-firestore.js"></script>
    <script>
      // Initialize Firebase with your project configuration
      var firebaseConfig = {
        apiKey: "AIzaSyBnYUfqyLku-Yu3n51ACdPARF1Pu1ImvlM",
        authDomain: "comp1800-fb693.firebaseapp.com",
        projectId: "comp1800-fb693",
        storageBucket: "comp1800-fb693.appspot.com",
        messagingSenderId: "1085465055470",
        appId: "1:1085465055470:web:977adf4c1e44d615f523ff"
      };
      firebase.initializeApp(firebaseConfig);
      var db = firebase.firestore(); // Initialize Firestore
    </script>
    

</head>
<body>


    <nav id="navbarPlaceholder"></nav>
    
    <nav class="navbar navbar-expand-lg navbar-light bg-warning">
        <a class="navbar-brand" href="#">HoCa Hikes</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item active">
              <a class="nav-link" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="./profile.html">Profile</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">About Us</a>
            </li>
          </ul>
        </div>
      </nav>
    
      <div class="container">
        <br>
        <h1>Review for <span id="hikeName"> Hike Name</span></h1>
        <br>
        <form>
            <div class="form-group">
                <label for="exampleFormControlInput1">Add a title</label>
                <input type="text" class="form-control" id="title" placeholder="Title">
            </div><br>
            <div class="form-group">
                <div class="card-body">
                    <p>Rate your overall experience:</p>
                    <span class="material-icons star" id="star1">star_outline</span>
                    <span class="material-icons star" id="star2">star_outline</span>
                    <span class="material-icons star" id="star3">star_outline</span>
                    <span class="material-icons star" id="star4">star_outline</span>
                    <span class="material-icons star" id="star5">star_outline</span>
                </div>
                <label for="exampleFormControlSelect1">What was the level of the hike?</label>
                <select class="form-control" id="level">
                    <option>Hard</option>
                    <option>Moderate</option>
                    <option>Easy</option>
                </select>
                <br>
                <div class="form-group">
                    <label for="exampleFormControlSelect1">Which season did you do the hike?</label>
                    <select class="form-control" id="season">
                        <option>Fall</option>
                        <option>Winter</option>
                        <option>Spring</option>
                        <option>Summer</option>
                    </select>
                    <br>
                </div>
                <div class="form-group">
                    <label for="exampleFormControlTextarea1">What did you think of the trail?</label>
                    <textarea class="form-control" id="description" rows="3"></textarea>
                </div>
                <br>
                <!-- Flooded -->
                <label>Flooded <span style="display:inline-block; width: 26pt;"></span></label>

                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="flooded" value="Yes">
                    <label>Yes</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="flooded" value="No">
                    <label>No</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="flooded" value="unSure" checked="">
                    <label>Not sure</label>
                </div>
                <br>
                <!-- Scramble -->
                <label>Scramble <span style="display:inline-block; width: 20pt;"></span></label>

                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="scrambled" value="Yes">
                    <label>Yes</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="scrambled" value="No">
                    <label>No</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="scrambled" value="unSure" checked="">
                    <label>Not sure</label>
                </div>

                <br>
                <div class="d-flex justify-content-end">
                    <button type="button" class="btn btn-lg btn-primary pull-right"
                        onclick="writeReview()">Submit</button>
                </div>
            </div>
        </form>
    </div>

    
<script>
var currentUser;               //points to the document of the user who is logged in
function populateUserInfo() {
            firebase.auth().onAuthStateChanged(user => {
                // Check if user is signed in:
                if (user) {

                    //go to the correct user document by referencing to the user uid
                    currentUser = db.collection("users").doc(user.uid)
                    //get the document for current user.
                    currentUser.get()
                        .then(userDoc => {
                            //get the data fields of the user
                            var userName = userDoc.data().name;
                            var userSchool = userDoc.data().school;
                            var userCity = userDoc.data().city;

                            //if the data fields are not empty, then write them in to the form.
                            if (userName != null) {
                                document.getElementById("nameInput").value = userName;
                            }
                            if (userSchool != null) {
                                document.getElementById("schoolInput").value = userSchool;
                            }
                            if (userCity != null) {
                                document.getElementById("cityInput").value = userCity;
                            }
                        })
                } else {
                    // No user is signed in.
                    console.log ("No user is signed in");
                }
            });
        }

//call the function to run it 
populateUserInfo();




function editUserInfo() {
    //Enable the form fields
    document.getElementById('personalInfoFields').disabled = false;
 }

</script>






    <!-- our own footer goes here-->
<nav id="footerPlaceholder"></nav>

<!---------------------------------------------->
<!-- Your own JavaScript functions go here    -->
<!---------------------------------------------->
<script src="./scripts/firebaseAPI_TEAM99.js"></script>
<script src="scripts/review.js"></script>
</body>
</html>






